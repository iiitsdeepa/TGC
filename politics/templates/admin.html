<!DOCTYPE html>
  <html>
    <head>
      <title>The Glass Capitol</title>
      <link rel='stylesheet' href='css/admin.css'/>
      <!--Import materialize.css-->
      <link href='https://fonts.googleapis.com/css?family=Pinyon+Script|Alex+Brush|Parisienne|UnifrakturCook:700|UnifrakturMaguntia|Cookie|Playball' rel='stylesheet' type='text/css'>

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1"/>
      <script type="text/javascript" src="/js/jquery-2.1.3.min.js"></script>
      <script type="text/javascript" src="/js/jquery-ui.min.js"></script>
    </head>

  <body>
    <h1>The Glass Capitol: Administrators Only</h1>
    <h2>Create Your Administrator Account Here</h2>
    <form method="post" name="signup" id='signup_form' onsubmit="javascript:submitSign();return false;">
      Administration Username:<br>
      <input id='username' type="text" name="username"><br>
      Email:<br>
      <input id='email' type="text" name="email"><br>
      Password:<br>
      <input id='password' type="text" name="password"><br>
      Confirm Password:<br>
      <input id='confirmpass' type="text" name="confirmpass"><br>
      <input id='subbutton' type='button' value='submit' onclick="javascript:submitSign();return false;">
    </form>

    <script>
      function submitSign() {
        document.getElementById("subbutton").disabled=true;
        setTimeout('document.getElementById("subbutton").disabled=false;',1200);
        username = document.getElementById('username').value;
        email = document.getElementById('email').value;
        password = document.getElementById('password').value;
        confirmpass = document.getElementById('confirmpass').value;
        error = 0

        if(username.length < 6){ //test username
          unameerror = 'invalid username (> 6 characters)'
          console.log(unameerror)
          error = 1
        }
        if(!/(.+)@(.+){2,}\.(.+){2,}/.test(email)){ //test email
          emailerror = 'invalid email'
          console.log(emailerror)
          error = 1
        }
        if(password.length < 6){ //test password length
          pwerror = 'invalid password (> 6 characters)'
          console.log(pwerror)
          error = 1
        }
        if(password != confirmpass){ //test password match
          pwerror = 'passwords don\'t match'
          console.log(pwerror)
          error = 1
        }

        if (error != 1){
          $.post('/signup', {username: username, email: email, password: password}, function(data){
            console.log(data)
          });
        }

      }
    </script>
    
  </body>