<!DOCTYPE html>
  <html>
    <head>
      <title>The Glass Capitol Cards</title>
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="/css/materialize.min.css"  media="screen,projection"/>
      <!--Let browser know website is optimized for mobile-->

      <style>

        #hrppic{
          background-size:100%;
          background-position: center;
        }

        #ssppic{
          background-size:100%;
          background-position: center;
        }

        #jsppic{
          background-size:100%;
          background-position: center;
        }

        .politician_card{
          position: relative;
          width: 45vw;
          height: 100%;
          color: whitesmoke;
          border-radius: 5px;
        }

        .chead{
          position: relative;
          top: 2%;
          height: 10%;
          text-align: center;
          font-size: 150%;
          font-weight: bold;
        }

        .card_content{
          position: relative;
          height: 80%;
        }

        .cbase_content{
          position: relative;
          height: 50%;
          width: 60%;
        }

        .cprofile_pic{
          position: absolute;
          border-radius: 50px;
          top: 5%;
          left: 8.3333%;
          background-color: white;
          height: 70%;
          width: 30%;
        }

        .cbase_text{
          position: absolute;
          top: 0;
          left: 40%;
          width: 60%;
          height: 100%;
          padding: 5%;
        }

        .cdescription_button{
          position: relative;
          font-size: 85%;
          text-align: center;
          color: #4D4DFF;
          z-index: 2;
        }

        .cstat{
          position: absolute;
          bottom: 0;
          height: 50%;
          width: 60%;
          padding-top: 2%;
          text-align: center;
          z-index: 2;
        }

        .libreakdown{
          padding-top: 8%;
          display: none;
        }

        .cdescription_button:hover{
          color: yellow;
        }

        .cdescription_button:active{
          color: lightyellow;
        }

        .cside_list{
          position: absolute;
          right: 0;
          top:0;
          height: 100%;
          width: 40%;
          padding: 3%;
          text-align: center;
          z-index: 1;
        }

        .cfoot{
          position: relative;
          height: 10%;
          text-align: center;
        }

        .cfoot:hover{
          color: pink;
        }

        .cfoot:active{
          color: whitesmoke;
        }

        #deck{
          position: absolute;
          top: 5%;
          display: flex;
          width: 142.5vw;
          height: 36vw;
        }

        .cspacer{
          width: 2.5vw;
        }

      </style>
    </head>

    <body>

      <div id='deck'>

      <div class='politician_card z-depth-1 {{hrparty}}' id='hrcard'>
        <div class='chead' id='hrhead'>Representative for {{district}}</div>
        <div class='card_content' id='hrcontent'>
          <div class='cbase_content'>
            <div class='cprofile_pic' id='hrppic'></div>
            <div class='cbase_text'>{{hrname}}<br>{{hrparty}}<br>started: {{hrfyio}}<br>Party Loyalty: {{hrployalty}}%</div>
          </div>
          <div class='cstat' id='hrstat' onclick='hideLIBreakdown()'>
            Legislative Ranking:<br><span style='font-size:200%'>{{hrli}}%</span>
            <div class='libreakdown'>
              Factors include:<br>
              -bills enacted: {{hrenacted}}%<br>
              -bills sponsored: {{hrsponsored}}%<br>
              -bills co-sponsored {{hrcosponsored}}%<br>
            </div>
          </div>
          <div class='cdescription_button' onclick='showLIBreakdown()'>?what's this?</div>
          <div class='cside_list' id='hrlist'>
            <p class='clist_title'>Top Donors</p>
            <div class='clist_entries'>
              -company 1<br>
              -company 2<br>
              -company 3<br>
              -company 4<br>
              -company 5<br>
              -company 6
            </div>
          </div>
        </div>
        <div class='cfoot' id='hrfoot'>Graphically Based Content</div>
      </div>

        <div class='cspacer' id='csp1'></div>

      <div class='politician_card z-depth-1 {{ssparty}}' id='sscard'>
        <div class='chead' id='sshead'>Senior Senator for {{district}}</div>
        <div class='card_content' id='sscontent'>
          <div class='cbase_content'>
            <div class='cprofile_pic' id='ssppic'></div>
            <div class='cbase_text'>{{ssname}}<br>{{ssparty}}<br>started: {{ssfyio}}<br>Party Loyalty: {{ssployalty}}%</div>
          </div>
          <div class='cstat' id='ssstat' onclick='hideLIBreakdown()'>
            Legislative Ranking:<br><span style='font-size:200%'>{{ssli}}%</span>
            <div class='libreakdown'>
              Factors include:<br>
              -bills enacted: {{ssenacted}}%<br>
              -bills sponsored: {{sssponsored}}%<br>
              -bills co-sponsored {{sscosponsored}}%<br>
            </div>
          </div>
          <div class='cdescription_button' onclick='showLIBreakdown()'>?what's this?</div>
          <div class='cside_list' id='sslist'>
            <p class='clist_title'>Top Donors</p>
            <div class='clist_entries'>
              -company 1<br>
              -company 2<br>
              -company 3<br>
              -company 4<br>
              -company 5<br>
              -company 6
            </div>
          </div>
        </div>
        <div class='cfoot' id='ssfoot'>Graphically Based Content</div>
      </div>

        <div class='cspacer' id='csp2'></div>

      <div class='politician_card z-depth-1 {{jsparty}}' id='jscard'>
        <div class='chead' id='jshead'>Junior Senator for {{district}}</div>
        <div class='card_content' id='jscontent'>
          <div class='cbase_content'>
            <div class='cprofile_pic' id='jsppic'></div>
            <div class='cbase_text'>{{jsname}}<br>{{jsparty}}<br>started: {{jsfyio}}<br>Party Loyalty: {{jsployalty}}%</div>
          </div>
          <div class='cstat' id='jsstat' onclick='hideLIBreakdown()'>
            Legislative Ranking:<br><span style='font-size:200%'>{{jsli}}%</span>
            <div class='libreakdown'>
              Factors include:<br>
              -bills enacted: {{jsenacted}}%<br>
              -bills sponsored: {{jssponsored}}%<br>
              -bills co-sponsored {{jscosponsored}}%<br>
            </div>
          </div>
          <div class='cdescription_button' onclick='showLIBreakdown()'>?what's this?</div>
          <div class='cside_list' id='jslist'>
            <p class='clist_title'>Top Donors</p>
            <div class='clist_entries'>
              -company 1<br>
              -company 2<br>
              -company 3<br>
              -company 4<br>
              -company 5<br>
              -company 6
            </div>
          </div>
        </div>
        <div class='cfoot' id='jsfoot'>Graphically Based Content</div>
      </div>

      </div>
      <script>
        function hideLIBreakdown_D(){
          if ($('.cstat').height() > (.9 * $('.card_content').height())){
            console.log('hide the thing')
            $(".cstat").animate({
              height: '50%'
            });
            $('.cdescription_button').css('display', 'block')
            $('.libreakdown').css('display','none')
          }
        }

        function showLIBreakdown_D(){
          $(".cstat").animate({
            height: '100%'
          }, function (){
            //$('.cstat').attr('onclick', 'hideLIBreakdown()')
          });
          $('.cdescription_button').css('display', 'none')
          $('.libreakdown').css('display','block')
          
        }

        function hideLIBreakdown_M(){
          console.log('hide it!')
          if ($('.cstat').height() > (.6 * $('.card_content').height())){
            console.log('hide the thing')
            $(".cstat").animate({
              height: '25%'
            });
            $('.cdescription_button').css('display', 'block')
            $('.libreakdown').css('display','none')
          }
        }

        function showLIBreakdown_M(){
          console.log('show it!')
          $(".cstat").animate({
            height: '65%'
          });
          $('.cdescription_button').css('display', 'none')
          $('.libreakdown').css('display','block')
          $('.cstat').attr('onclick', 'hideLIBreakdown()')
        }

        function hideLIBreakdown(){
          if ($('.politician_card').width() - $('.politician_card').height() > 0 ){ //landscape card
            hideLIBreakdown_D();
          } else {
            hideLIBreakdown_M();
          }
        }

        function showLIBreakdown(){
          if ($('.politician_card').width() - $('.politician_card').height() > 0 ){ //landscape card
            showLIBreakdown_D();
          } else {
            showLIBreakdown_M();
          }
        }

      </script>
    </body>

  </html>