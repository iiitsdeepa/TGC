{% extends "newbase.html" %}
{% block pagenav %}
<input type='hidden' id="page-statename" value="{{hrstatename}}">
<div id='pagenav'>
	<div id='personalize-option' class='pagenav-option' onclick="javascript:tabSwitcher('news','home_news');return false;">News</div>
	<div id='partycomp-option' class='pagenav-option' onclick="javascript:tabSwitcher('election','home_election');return false;">Election Basics</div>
	<div id='currentpolls-option' class='pagenav-option' onclick="javascript:tabSwitcher('reps','home_reps');return false;">My Representatives</div>
</div>
{% endblock %}
{% block content %}
<div id='display-tab'>
	This is the display tab
</div>

<div id='news' class='tab t1'>
<div class='tab-content'>
<h1 class='tab-title'>Current News</h1>
	<div id='feeds-container'>
		<div id='left-feed-wrapper' class='feed-wrapper whiteback'>
			<h3 id='left-feed-title' class='feed-title'>Leaning Left</h3>
			<div id="left-feed"></div>
		</div>
		<div id='center-feed-wrapper' class='feed-wrapper whiteback'>
			<h3 id='center-feed-title' class='feed-title'>Center</h3>
			<div id="center-feed"></div>
		</div>
		<div id='right-feed-wrapper' class='feed-wrapper whiteback'>
			<h3 id='right-feed-title' class='feed-title'>Leaning Right</h3>
			<div id="right-feed"></div>
		</div>
	</div>
				<div id='fl-template'>
				<div class='fl'>
					<a href='ELINK' target='blank' class='fl-title'>ETITLE</a>
					<div class='fl-description'><span class='fl-date'>EDATE • </span>EDESC</div>
					<div class='fl-source'>ESOURCE</div>
					<a href='RLINK' target='blank' class='redlink'>Read More -></a>
				</div>
				</div>
</div>
</div>

<div id='election' class='tab t2'>
<div class='tab-content'>
	<h1 class='tab-title'>The 2016 Election</h1>
	<div class='cstandings-wrapper'>
		<h1 class='cstandings-title'>Current Standings</h1>
		<div class='dstandings cstanding'>
			<h2 class='cstanding-title'>Democratic Primary</h2>
			<div class='cstanding-basicinfo'>
				<!--<h3>Delegates won</h3>-->
				2,383 needed for nomination out of 4,762 total<br>
				3,286 delegates remaining
			</div>
			<div id='dstanding-graph-wrapper' class='cstanding-graph-wrapper'></div>
			<div class='cstanding-processinfo'>
				<h3>Graph Key</h3>
				<div id=''></div><b>85% - Pledged Delegates:</b> Delegates that vote according to their primary results<br><
				<b>15% - Superdelegates:</b> Delegates that can cast their vote for any candidate 
			</div>
		</div>
		<div class='rstandings cstanding'>
			<h2 class='cstanding-title'>Republican Primary</h2>
			<div class='cstanding-basicinfo'>
				<!--<h3>Delegates won</h3>-->
				1,237 needed for nomination out of 2,472 total<br>
				1,777 delegates remaining
			</div>
			<div id='rstanding-graph-wrapper' class='cstanding-graph-wrapper'></div>
			<div class='cstanding-processinfo'>
				<h3>Graph Key</h3>
				<b>93% - Bound delegates:</b> vote according to their state’s primary results<br>
				<b>7% - Unbound delegates:</b>  can switch candidates, regardless of their state’s primary results
			</div>
		</div>
	</div>
	<div id='writing-wrapper'>
	The American election process starts over 9 months  before the general election is held. This long drawn out process can be confusing and so we’re going to try to break it down so you can easily follow along.<br>

		How Primaries Work  
		More than a year before the general election, potential candidates declare their intention to run for President of the United States. Anyone who meets the three criteria laid out in our Constitution can apply to run. The Constitution requires any president to be at least 35 years old, have lived in the United States for 14 years, and be a natural born citizen.<br> 

		In our current political climate any candidate who wants to have a legitimate chance at becoming president needs to declare their intention to run early so they can build support, do fundraising, and assemble their campaign. There are so many steps to running a successful campaign so many candidates declare their intention to run 12-18 months before the general election. In this particular election season, 7 democrats and 17 republicans declared their intention to run for president.<br>

		On February 1st of the election year, the primary season begins. The purpose of the primary season is to allow the voters of each party to decide who they want to run as their party’s candidate. Thus only voters registered to the party can vote in that party’s primary. The primary season is set up to span 6 months, eliminating weaker candidates as time goes on. Ideally only one candidate from each party will be left by the end of the primary season. <br>

		A key part of our presidential election system is that voters don’t directly elect their president. Alternatively the people elect a series of delegates to choose the president that they want. This process was laid out in the Constitution for the general election and expanded upon to form our current primary process. Since the Constitution doesn’t lay out how the presidential primaries should be conducted, the two parties do their primary season a bit differently. Most states divide up their delegates by assigning some to the candidate that wins at each congressional district, while the remainder get assigned to who wins at the state level. This gives more local control of the nominating process, however it does make the process more complicated.<br>

		One difference in the primary season is that some states hold primaries and some states hold caucuses. Primaries are held by 37 states and 2 territories while caucuses are held in 13 states and 3 territories. Washington DC holds a Democratic primary and a Republican caucus. A primary is where people choose their candidate by voting on a ballot. A caucus is similar to a primary but more involved. The candidates are chosen through ballots, but before voting is conducted, candidates can be discussed, speeches given, and other business conducted. Each party does their caucuses with different rules built on top of this process.<br>

		The Republican Party (aka GOP) has a total of 2,472 delegates that are used in their primary season. To become their presidential candidate, a candidate needs to win 1,237 of these delegates. These delegates are split among the 50 states, 5 territories, and Washington DC, allocated according to each state or territory’s population. Delegates are assigned to the winner(s) of each state’s primary or caucus. Most of the delegates that are assigned are bound to the way each state votes, however not all are. About 7% of the delegates up for grabs in the GOP primary are unbounded, meaning they can switch to any candidate regardless of who won in their state. The other 93% of delegates in the GOP primary are bound to what was decided in their election. (Most of these delegates are assigned proportionally or semi-proportionally at the state level, while the rest are assigned proportionally or semi-proportionally at the district level)<br>

		The Democratic primary is similar to the GOP primary with slightly different math. There are 4,762 delegates up for grabs in the Democratic party’s primary, meaning you need to collect 2,383 delegates to win. The Democratic has different rules for assigning delegates. Pledged delegates make up 85% of the delegates. These delegates are decided in each state’s election and don’t change. (Some of these delegates are assigned proportionally to the candidate’s results in each congressional district while the rest are assigned proportionally to the candidate’s success at the state level) The remaining 15% of delegates are set aside as “superdelegates”. These superdelegates aren’t affected by how states vote and can cast their support to whatever candidate they please. Superdelegates are also unbounded meaning they can switch their support halfway through the primary season. Most of the superdelegates are people high up in the democratic party like governors, congressmen, and party leaders.<br>

		Since the primary season is spread out over months it becomes important for candidates to win the early states. The first three states are Iowa, New Hampshire, and South Carolina. If a candidate wins at least 2 of these states it’s usually a good predictor that they’ll get the nomination. Candidates who don’t do well in these first primaries will usually drop out since they won’t have much of a chance of getting the support behind them to continue.<br> 

		Once the primary season is finished the candidate from each party with the majority of delegates is selected to move on as their party’s candidate in the general election. This is confirmed in late July at each party’s national convention. Many things are accomplished in each national convention, but the biggest is the official nomination of one candidate to run for president. There have been several cases in the past where no one candidate held the majority of delegates coming into their party’s convention. In this case a contested convention is held, meaning the delegates of the party will then vote and rearrange themselves until one candidate gets the votes of a majority of the delegates.<br> 

		General Election
		Once the candidates are chosen the general election season starts. This season is a lot shorter than the primary season, lasting for about 3 months. This culminates in the general election, held on the first Tuesday in November. The only exception is if the first Tuesday is Nov 1st, in which case it will be held on the second Tuesday. This means that the general election falls between November 2nd and November 8th.<br> 

		Once again the American public does not directly elect which candidate they want as their president. They choose the delegates that will then directly elect the president. The total number of delegates in the general election is 538. There is one delegate for each of the 435 members of the House of Representatives, and 100 delegates for each member of the Senate. 3 more delegates are included for the District of Columbia. No delegates are given to the 5 US territories. In all states but 2, delegates are assigned by who wins the most votes. In the 2 other states - Maine and Nebraska - delegates based on the House of Representative are assigned based on who wins in each district and remaining two delegates, based on the Senate, are assigned to the winner of the state. In the general election, a candidate must win 270 delegate votes to win the presidency.<br> 


		To learn more details on the delegates and the election process we suggest checking out some of these links below:<br><br> 

		Primary Elections 
		Results of Superdelegates of the Democatraic Party 2016: https://en.wikipedia.org/wiki/List_of_Democratic_Party_superdelegates,_2016
		Results for the Democratic Party’s Primaries 2016: https://en.wikipedia.org/wiki/Results_of_the_Democratic_Party_presidential_primaries,_2016
		Results for the Republican Party’s Primaries 2016: https://en.wikipedia.org/wiki/Results_of_the_Republican_Party_presidential_primaries,_2016
		Information for the Democratic Party’s Primaries 2016: https://en.wikipedia.org/wiki/Republican_Party_presidential_primaries,_2016
		Information for the Republican Party’s Primaries 2016: https://en.wikipedia.org/wiki/Democratic_Party_presidential_primaries,_2016
		Information about the 2016 Republican National Convention: https://en.wikipedia.org/wiki/2016_Republican_National_Convention
		Information about the 2016 Democratic National Convention: https://en.wikipedia.org/wiki/2016_Democratic_National_Convention<br>

		General Election<br> 
		
		The Delegates Breakdown<br>

		93% - Pledged delegates: vote according to their state’s primary results
		7% - Unbound delegates:  can switch candidates, regardless of their state’s primary results<br>

		32% of the delegates - assigned by congressional district winner
		61% of the delegates - assigned by state winner<br>


		85% - Pledged delegates: vote according to their primary results
		15% - Superdelegates: can cast their vote for any candidate <br>

		56% of the delegates - assigned by congressional district winner
		19% of delegates - assigned by state winner<br>



		435 delegates (for each member of the House of Representatives) 
		100 delegates (for each member of the Senate) 
		3 delegates (for the District of Columbia) 
		* the 5 U.S. territories do not receive delegates for the general election 
	</div>
</div>
</div>

<div id='reps' class='tab t3'>
<div class='tab-content'>
	<div id='demo_wrapper'>
		<h2>Find Your Representatives</h2>
		<div class='findform_wrapper z-index-1' onmouseover="javascript:rhover('bleh');return false;">
			<div class='findform_wrapper'>
				<div id='location_data' class="dformbutton" onclick="javascript:useLocation();return false;">Find Using Your Location</div>
				<span style='font-size:250%;margin: 0 auto;margin-top:30px'>-OR-</span>
				<div id='use_address' class='districtentry'>
					<form method='post' name='districtform' id='districtform' onsubmit="javascript:handleZip();return false;">
						<div class='formhead'>Enter Street Address</div>
			  			<input id='address' type="text" name="address" placeholder='Street Address' style='width:calc(100% - 4px)'><br>
			  			<input id='city' type="text" name="city" placeholder='City' style='width:calc(50% - 5px)'>
			  			<input id='state' type="text" name="state" placeholder='State Abbreviation (XX)' style='width:calc(50% - 7px)'>
					</form>
					<div id='zip_submit' class='z-depth-1 dformbutton' onclick="javascript:useAddress();return false;">Find Using Your Address</div>
				</div>
			</div>
			<span id='privacy-statement' style='font-size:80%'>*Privacy: We won't save your location data. When you use these buttons it will be single use to find your district.</span>
		</div>

		<div id='demo_content' class='z-index-1'>
			<div id='statdescription' class='z-index-1 tooltip'>
				<span class="tooltiptext2">{{colorhover}}</span>
				<div class='stattitle'>Color Key:</div>
				<div class='statgradientbackground'></div>
				<table id='statdata'>
					<tr class='dtrow'>
						<td class ='drepstat3'>
							<!--<div class='statkeybackground' style='background-color: #FF0000;'></div>-->
							<div class='statkeytext'>Best</div>
						</td> 
					</tr>
					<tr class='dtrow'>
						<td class ='drepstat3'>
							<!--<div class='statkeybackground' style='background-color: #FFFF00;'></div>-->
							<div class='statkeytext'>Average</div>
						</td> 
					</tr>
					<tr class='dtrow'>
						<td class ='drepstat3'>
							<!--<div class='statkeybackground' style='background-color: #00FF00;'></div>-->
							<div class='statkeytext'>Worst</div>
						</td> 
					</tr> 
				</table>
				<div class ='drepstat2'>
					<div class='statkeybackground' style='background-color: #AAAAAA;'></div>
					<div class='statkeytext2'>N/A</div>
				</div>
			</div>
			<div id='reps_container'>
				
				<div id='reps_slider' value='leaders'>
					<div id='hr_wrapper' class='rep_wrapper z-index-1'>
						<h4>{{hrtitle}}</h4>
						<div id='hr_head_wrapper' class='head_wrapper'>
							<div id='hrpic' class='reppic_wrapper'>
								<img src='/images/headshots/{{hrpic}}.png' class='rep-pic'>
							</div>
							<div class='basic_info'>
								<div id='hrname' class='repname'>{{hrname}}</div>
								<div id='hrparty' class='repparty'>{{hrparty}}</div>
								<div id='hryears' class='repyears'>In office since {{hrfyio}}</div>
								<div class='partypic_wrapper'></div>
							</div>
						</div>
						<div class='desrep_info'>
							<table class='tabledisplay'>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{hr1back}};'></div>
										<div class='stattext'>{{hrstat1}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{hr2back}};'></div>
										<div class='stattext'>{{hrstat2}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{hr3back}};'></div>
										<div class='stattext'>{{hrstat3}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{hr4back}};'></div>
										<div class='stattext'>{{hrstat4}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{hr5back}};'></div>
										<div class='stattext'>{{hrstat5}}</div>
									</td> 
								</tr>
							</table>
						</div>
						<div class='mobrep_spacer'></div>
						<div class='mobrep_info'>
							<table>
								<tr class='mtrow'>
									<td class='msname'>Party Loyalty</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 2 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 3 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 4 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 5 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
							</table>
						</div>
					</div>

					<div id='ss_wrapper' class='rep_wrapper z-index-1'>
						<h4>{{sstitle}}</h4>
						<div id='ss_head_wrapper' class='head_wrapper'>
							<div id='sspic' class='reppic_wrapper'>
								<img src='/images/headshots/{{sspic}}.png' class='rep-pic'>
							</div>
							<div class='basic_info'>
								<div id='ssname' class='repname'>{{ssname}}</div>
								<div id='ssparty' class='repparty'>{{ssparty}}</div>
								<div id='ssyears' class='repyears'>In office since {{ssfyio}}</div>
								<div class='partypic_wrapper'></div>
							</div>
						</div>
						<div class='desrep_info'>
							<table class='tabledisplay'>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{ss1back}};'></div>
										<div class='stattext'>{{ssstat1}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{ss2back}};'></div>
										<div class='stattext'>{{ssstat2}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{ss3back}};'></div>
										<div class='stattext'>{{ssstat3}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{ss4back}};'></div>
										<div class='stattext'>{{ssstat4}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{ss5back}};'></div>
										<div class='stattext'>{{ssstat5}}</div>
									</td> 
								</tr>
							</table>
						</div>
						<div class='mobrep_spacer'></div>
						<div class='mobrep_info'>
							<table>
								<tr class='mtrow'>
									<td class='msname'>Party Loyalty</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 2 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 3 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 4 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 5 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
							</table>
						</div>
					</div>
					<div id='js_wrapper' class='rep_wrapper z-index-1'>
						<h4>{{jstitle}}</h4>
						<div id='js_head_wrapper' class='head_wrapper'>
							<div id='jspic' class='reppic_wrapper'>
								<img src='/images/headshots/{{jspic}}.png' class='rep-pic'>
							</div>
							<div class='basic_info'>
								<div id='jsname' class='repname'>{{jsname}}</div>
								<div id='jsparty' class='repparty'>{{jsparty}}</div>
								<div id='jsyears' class='repyears'>In office since {{jsfyio}}</div>
								<div class='partypic_wrapper'></div>
							</div>
						</div>
						<div class='desrep_info'>
							<table class='tabledisplay'>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{js1back}};'></div>
										<div class='stattext'>{{jsstat1}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{js2back}};'></div>
										<div class='stattext'>{{jsstat2}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{js3back}};'></div>
										<div class='stattext'>{{jsstat3}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{js4back}};'></div>
										<div class='stattext'>{{jsstat4}}</div>
									</td> 
								</tr>
								<tr class='dtrow'>
									<td class ='erow drepstat'>
										<div class='statbackground' style='background-color: {{js5back}};'></div>
										<div class='stattext'>{{jsstat5}}</div>
									</td> 
								</tr>
							</table>
						</div>
						<div class='mobrep_spacer'></div>
						<div class='mobrep_info'>
							<table>
								<tr class='mtrow'>
									<td class='msname'>Party Loyalty</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 2 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 3 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 4 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
								<tr class='mtrow'>
									<td class='msname'>Stat 5 Name</td>
									<td class ='mrepstat'>X%</td> 
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
			<div id='repsheader_wrapper'>
				<table class='tabledisplay'>
					<tr id='head1' class='erow sporow'>
						<td class='sname tooltip'>{{stat1name}}<span class="tooltiptext">{{hover1}}</span></td>
						
					</tr>
					<tr id='head2' class='erow plrow'>
						<td class='sname tooltip'>{{stat2name}}<span class="tooltiptext">{{hover2}}</span></td>
						
					</tr>
					<tr id='head3' class='erow'>
						<td class='sname tooltip'>{{stat3name}}<span class="tooltiptext">{{hover3}}</span></td>
						
					</tr>
					<tr id='head4' class='erow'>
						<td class='sname tooltip'>{{stat4name}}<span class="tooltiptext">{{hover4}}</span></td>
						
					</tr>
					<tr id='head5' class='erow'>
						<td class='sname tooltip'>{{stat5name}}<span class="tooltiptext">{{hover5}}</span></td>
						
					</tr>
				</table>
			</div>
			<div id='change_button_wrapper'>
				<span id='changetext' class='dformbutton' onclick="javascript:loadStats();return false;">Change Stats</span>
			</div>
			<div id='replinks_wrapper'>
				<div class='replinks'>
					<a href='{{hrwebsite}}' class='rep-link'target='blank'>Website</a>
					<div class='rep-link_spacer'></div>
					<a href='http://facebook.com/{{hrfbid}}' class='rep-link'target='blank'>Facebook</a>
					<div class='rep-link_spacer'></div>
					<a href='http://twitter.com/{{hrtwid}}' class='rep-link'target='blank'>Twitter</a>
				</div>
				<div class='replinks'>
					<a href='{{sswebsite}}' class='rep-link'target='blank'>Website</a>
					<div class='rep-link_spacer'></div>
					<a href='http://facebook.com/{{ssfbid}}' class='rep-link'target='blank'>Facebook</a>
					<div class='rep-link_spacer'></div>
					<a href='http://twitter.com/{{sstwid}}' class='rep-link'target='blank'>Twitter</a>
				</div>
				<div id='last_replink' class='replinks'>
					<a href='{{jswebsite}}' class='rep-link'target='blank'>Website</a>
					<div class='rep-link_spacer'></div>
					<a href='http://facebook.com/{{jsfbid}}' class='rep-link'target='blank'>Facebook</a>
					<div class='rep-link_spacer'></div>
					<a href='http://twitter.com/{{jstwid}}' class='rep-link'target='blank'>Twitter</a>
				</div>
			</div>
			<div id='change_selector_wrapper' class='z-index-1'>
					<div class='change_header'><h3>Select 5 legislator statictics to display from the list below.</h3></div>
					<div id='change_checkbox_wrapper'>
						<div class='change_checkbox'>
							<div class='change-check'><input type='checkbox' {{stat1checked}} class='leg-stats' name='leg-stats' value='1'>Party Loyalty</div>
							<div class='change-check'><input type='checkbox' {{stat2checked}} class='leg-stats' name='leg-stats' value='2'>Legislative Index</div>
							<div class='change-check'><input type='checkbox' {{stat3checked}} class='leg-stats' name='leg-stats' value='3'>Bills Sponsored</div>
							<div class='change-check'><input type='checkbox' {{stat4checked}} class='leg-stats' name='leg-stats' value='4'>Bills Cosponsored</div>
						<!--</div>
						<div class='change_checkbox'>-->
							<div class='change-check'><input type='checkbox' {{stat5checked}} class='leg-stats' name='leg-stats' value='5'>Percent of Votes Missed</div>
							<div class='change-check'><input type='checkbox' {{stat6checked}} class='leg-stats' name='leg-stats' value='6'>Number of Sponsored and Cosponsored Bills Enacted</div>
							<div class='change-check'><input type='checkbox' {{stat7checked}} class='leg-stats' name='leg-stats' value='7'>Performance</div>
				        </div>
					</div>
					<div id='change_submit_wrapper'>
						<span id='change_submit_button' class='dformbutton' onclick="javascript:submitStats();return false;">Submit</span>
						<span id='change_cancel_button' class='dformbutton' onclick="javascript:cancelStats();return false;">Cancel</span>
					</div>
				</div>
		</div>
	</div>
</div>
</div>

<div id='back-to-top' onclick="javascript:scrollTo('top');return false;">Back To Top</div>

<link rel='stylesheet' href='css/demo.css'/>
<script type="text/javascript" src="/js/demo.js"></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script>
	var FUNCTIONS = [];
	var toelection = 0;
	google.load("feeds", "1");
	google.setOnLoadCallback(home_feed)
	FUNCTIONS['home_news'] = function () {
		scroller('news','tab') 
	};
	FUNCTIONS['home_election'] = function () { 
		scroller('election','tab')
		if (toelection == 0){
			google.charts.setOnLoadCallback(home_election);
			toelection++
		}
	};
	FUNCTIONS['home_reps'] = function () {
		scroller('reps','tab') 
	};

	function home_feed(){
		var leftfeedlist = [
	        {"name":"The Atlantic","rss":"http://feeds.feedburner.com/AtlanticPoliticsChannel","ideology":2},
	        {"name":"Politico","rss":"http://www.politico.com/rss/politicopicks.xml","ideology":2},
	        {"name":"The New York Times","rss":"http://rss.nytimes.com/services/xml/rss/nyt/Politics.xml","ideology":2},
	        {"name":"The Huffington Post","rss":"http://feeds.huffingtonpost.com/c/35496/f/677086/index.rss","ideology":1}
	    ]
	    loadFeed(leftfeedlist,'#left-feed')
	    var centerfeedlist = [
	        {"name":"NPR","rss":"http://www.npr.org/rss/rss.php?","ideology":3},
	        {"name":"Wall Street Journal","rss":"http://online.wsj.com/xml/rss/3_7085.xml","ideology":3},
	        {"name":"Christian Science Monitor","rss":"http://rss.csmonitor.com/feeds/usa","ideology":3},
	        {"name":"CNN","rss":"http://rss.cnn.com/rss/cnn_allpolitics.rss","ideology":3}
	    ]
	   	loadFeed(centerfeedlist,'#center-feed')
	   	var rightfeedlist = [
	        {"name":"FOX","rss":"http://feeds.foxnews.com/foxnews/politics","ideology":5},
	        {"name":"Washington Times","rss":"http://www.washingtontimes.com/rss/headlines/news/politics/","ideology":4},
	        {"name":"Herritage","rss":"http://www.heritage.org/static/rss/reports.xml","ideology":5},
	        {"name":"The Blaze","rss":"http://www.theblaze.com/stories/feed/","ideology":5},
	    ]
	   	loadFeed(rightfeedlist,'#right-feed')
	}
	function RssEntry(date,title,link,description,source,ideology) {
  		this.date = new Date(date);
  		this.title = title;
		this.link = link;
		this.description = description;
		this.source = source;		
	}
	function compareDate(a, b) {
		if (a.date < b.date)
			return 1;
		if (a.date > b.date)
			return -1;
		return 0;
	}
	function loadFeed(feedlist,cid) {

		var entries = [];
		var numFeeds = feedlist.length;
	 
		for (var i = 0; i < feedlist.length; i++) {
			var name = feedlist[i]["name"]
			var ideology = feedlist[i]["ideology"]
			var feed = new google.feeds.Feed(feedlist[i]["rss"]);
			feed.setNumEntries(3);
			feed.load(function(result) {
			 	if (!result.error) {
					for (var j = 0; j < result.feed.entries.length; j++) {
						var rawEntry = result.feed.entries[j];
						entries.push(new RssEntry(rawEntry.publishedDate,rawEntry.title,rawEntry.link,rawEntry.contentSnippet,result.feed.title,ideology));
					}
	 
					numFeeds--;
					if (numFeeds == 0) {
						entries.sort(compareDate);
						var container = $(cid);
						for (var k = 0; k < entries.length; k++) {
							var ht = $("#fl-template").html()
							strdate = (entries[k].date.getMonth() + 1) + '/' + entries[k].date.getDate() + '/' +  entries[k].date.getFullYear()
					        ht = ht.replace('ELINK',entries[k].link)
					        ht = ht.replace('RLINK',entries[k].link)
					        ht = ht.replace('ETITLE',entries[k].title)
					        ht = ht.replace('EDATE',strdate)
					        ht = ht.replace('EDESC',entries[k].description)
					        ht = ht.replace('ESOURCE',entries[k].source)
					        container.append(ht)
						}
					}	
			 	}
			});	
		}
	}
	function home_election(){
		console.log('WORK DAMNIT')
		$.post('/vishandle', {'visualization':'dpresults'},function(data){
			chart_data = $.parseJSON(data);
			drawBarChart(chart_data)
		})
		$.post('/vishandle', {'visualization':'rpresults'},function(data){
			chart_data = $.parseJSON(data);
			drawBarChart(chart_data)
		})
	}
	function drawBarChart(d) {
	    var chart1_data = new google.visualization.DataTable(d['data']);
	    var chart1_options = {
	        title: d['title'],
	    };
	    var chart1_chart = new google.visualization.ColumnChart(document.getElementById(d['element']));
	    chart1_chart.draw(chart1_data, chart1_options);
	}
	function drawLineChart(d){
	    var chart1_data = new google.visualization.DataTable(d['data']);
	    var chart1_options = {
	        title: d['title'],
	    };

	    var chart1_chart = new google.visualization.LineChart(document.getElementById(d['element']));
	    chart1_chart.draw(chart1_data, chart1_options);
	}
	$( document ).ready(function() {
		google.charts.load('current', {'packages':['corechart']});
    	startState('home_')
	});

</script>

<style>
#feeds-container{display:flex;justify-content:space-between;}
.feed-wrapper{width:calc(31.5% - 40px);padding:25px;}
.feed-title{padding-bottom:10px;margin-bottom:25px;text-align:center;}
#left-feed-title{color:#1a53ff;border-bottom:solid 2px #1a53ff;}
#center-feed-title{color:#9900cc;border-bottom:solid 2px #9900cc;}
#right-feed-title{color:#cc0000;border-bottom:solid 2px #cc0000;}
.fl{margin-top:15px;padding-bottom:25px;border-bottom:solid 1px #d9d9d9;}
.fl-title{display:block;cursor:pointer;color:#1a53ff;font-weight:bold;font-size:115%;margin-bottom:5px;}
.cstanding-graph-wrapper{height:300px;margin:0 20px;border-bottom:solid 1px #d9d9d9;}
.cstanding-graph-wrapper2{height:400px;margin:0 20px;border-bottom:solid 1px #d9d9d9;}
.fl-title:visited{color:#660066;}
.fl-description{color:#595959;}
.fl-date{color:#8c8c8c;}
#fl-template{display:none;}
</style>
{% endblock %}